!function(){"use strict";var e="undefined"!=typeof window?window:global;if("function"!=typeof e.require){var t={},n={},o=function(e,t){return{}.hasOwnProperty.call(e,t)},r=function(e,t){var n,o,r=[];n=/^\.\.?(\/|$)/.test(t)?[e,t].join("/").split("/"):t.split("/");for(var s=0,a=n.length;a>s;s++)o=n[s],".."===o?r.pop():"."!==o&&""!==o&&r.push(o);return r.join("/")},s=function(e){return e.split("/").slice(0,-1).join("/")},a=function(t){return function(n){var o=s(t),a=r(o,n);return e.require(a,t)}},u=function(e,t){var o={id:e,exports:{}};return n[e]=o,t(o.exports,a(e),o),o.exports},i=function(e,s){var a=r(e,".");if(null==s&&(s="/"),o(n,a))return n[a].exports;if(o(t,a))return u(a,t[a]);var i=r(a,"./index");if(o(n,i))return n[i].exports;if(o(t,i))return u(i,t[i]);throw new Error('Cannot find module "'+e+'" from "'+s+'"')},d=function(e,n){if("object"==typeof e)for(var r in e)o(e,r)&&(t[r]=e[r]);else t[e]=n},l=function(){var e=[];for(var n in t)o(t,n)&&e.push(n);return e};e.require=i,e.require.define=d,e.require.register=d,e.require.list=l,e.require.brunch=!0}}(),require.register("src/bundles",function(e,t,n){var o,r,s,a,u,i;u=[t("./bundles/starter"),t("./bundles/quotes2")],r=["Starter","Quotes #2"],i=function(e,t,n){var o;return e?t===e.length-1?n>R.last(e)?R.append(n,R.slice(0,-1,e)):e:t>e.length-1?R.append(n,e):e:(o=R.times(R.always(0),t),R.append(n,o))},s=function(e,t){return null==t?{quoteIndex:0,bundleIndex:0}:t===u[e].length-1?{quoteIndex:0,bundleIndex:u[e+1]?e+1:0}:{quoteIndex:t+1,bundleIndex:e}},a=function(e,t){var n;return n=s(e,t),0===n.quoteIndex&&0===n.bundleIndex},o=function(e,t){var n;return n=s(e,t),0===n.quoteIndex},n.exports={quoteBundles:u,bundleNames:r,updateProgressPerBundle:i,getNextQuoteIndex:s,noMoreQuotes:a,bundleCompleted:o}}),require.register("src/bundles/quotes2",function(e,t,n){n.exports=[{_id:{$oid:"554fbba30a061f9afcba2b7c"},quote:"If a tree falls in a forest and no one is around to hear it, does it make a sound?",bundle:"quotes2"},{_id:{$oid:"554fb8670a061f9afcba2b76"},quote:"You miss 100% of the shots you don’t take.",bundle:"quotes2"},{_id:{$oid:"554fb89e0a061f9afcba2b77"},quote:"Life is what happens to you while you’re busy making other plans.",bundle:"quotes2"},{_id:{$oid:"554fbad40a061f9afcba2b7a"},quote:"If all you have is a hammer, everything looks like a nail.",bundle:"quotes2"},{_id:{$oid:"554fb64d0a061f9afcba2b75"},quote:"Be the change you wish to see in the world.",bundle:"quotes2"},{_id:{$oid:"554fb4ab0a061f9afcba2b73"},quote:"Obstacles are what you see when you take your eyes off your goal.",bundle:"quotes2"},{_id:{$oid:"554fbbe40a061f9afcba2b7d"},quote:"Never try to teach a pig to sing; it wastes your time and it annoys the pig.",bundle:"quotes2"},{_id:{$oid:"554fc1230a061f9afcba2b7f"},quote:"Two things are infinite: the universe and human stupidity; and I'm not sure about the universe.",bundle:"quotes2"},{_id:{$oid:"554fbd090a061f9afcba2b7e"},quote:"Did you know: Two thirds of the people on earth have never seen snow?",bundle:"quotes2"},{_id:{$oid:"554fba310a061f9afcba2b78"},quote:'My Mama always said, "Life was like a box of chocolates; you never know what you\'re gonna get."',bundle:"quotes2"}]}),require.register("src/bundles/starter",function(e,t,n){n.exports=[{_id:{$oid:"554fba3e0a061f9afcba2b79"},quote:"Happiness isn't having what you want, it's wanting what you have.",bundle:"starter"},{_id:{$oid:"554fbb780a061f9afcba2b7b"},quote:"He who laughs last, laughs longest.",bundle:"starter"},{_id:{$oid:"554fb52e0a061f9afcba2b74"},quote:"That's one small step for man, one giant leap for mankind.",bundle:"starter"},{_id:{$oid:"554fb40c0a061f9afcba2b6f"},quote:"Do... or do not. There is no try. Only do.",bundle:"starter"},{_id:{$oid:"554fb2c60a061f9afcba2b6d"},quote:"Talk sense to a fool and he calls you foolish.",bundle:"starter"},{_id:{$oid:"554fb4880a061f9afcba2b72"},quote:"80% of success is just showing up.",bundle:"starter"},{_id:{$oid:"554fc398720a9ad00b7fa94b"},quote:"If you choose not to decide, you still have made a choice.",bundle:"starter"},{_id:{$oid:"554fb2980a061f9afcba2b6c"},quote:"Today is the tomorrow you worried about yesterday.",bundle:"starter"},{_id:{$oid:"554fb4420a061f9afcba2b70"},quote:"You're almost to the end of the starter bundle!  Good job, keep going.",bundle:"starter"},{_id:{$oid:"554fb46b0a061f9afcba2b71"},quote:"Do not underestimate the power of the Force.",bundle:"starter"}]}),require.register("src/game",function(e,t,n){var o,r,s,a,u,i,d,l,c;a=parent.kongregate,c=t("./bundles"),d=c.quoteBundles,r=c.bundleNames,s=c.getNextQuoteIndex,l=c.updateProgressPerBundle,u=c.noMoreQuotes,o=c.bundleCompleted,i=t("./persist"),n.exports=function(){var e,t,n,c,f,p,g,h,b,m,v,y,w,x,I,k,S,D,E,q,M,P,Z,H,C,L,B,T,N,O,Q,_,K,U,F,G,$,A,V,j,Y,W,X,J,z,ee,te,ne,oe,re,se,ae,ue,ie,de,le,ce,fe,pe,ge,he,be;return e={startingHints:3,hintSetback:40,pointsForFreeHint:200,pointsPerLetter:5},t={},n={backgroundMusic:1,keyPressHit:.9},z=function(e){return t[e].play()},w=function(){return t.backgroundMusic},S=function(){return R.omit(["backgroundMusic"],t)},X=function(){return w().play()},Y=function(){return w().pause()},J=function(){return R.forEach(function(e){return e[1].volume(n[e[0]]||1)},R.toPairs(S()))},W=function(){return R.forEach(function(e){return e.volume(0)},R.values(S()))},h=function(){return w().fadeIn(n.backgroundMusic,2e3)},g={HIDDEN:0,REVEALED:1,SOLVED:2,HINTED:3,HINTEDFILLED:4},P=function(e){return/[a-z]/i.test(e)},Z=function(e){return/[a-z\s]/i.test(e)},C=function(e){return/[\s]/i.test(e)},oe=R.mapIndexed(function(e,t){return{index:t,status:e}}),I=function(e){var t,n,o;return o=Math.floor(Math.random()*e.length),n=e[o],t=R.remove(o,1,e),[n,t]},k=function(e,t){var n;return null==t&&(t=1),"number"!=typeof t&&(console.error("expected a number, got",t),t=1),(n=function(e,o){var r,s,a;return a=I(e),s=a[0],r=a[1],o.push(s),o.length===t?o:n(r,o)})(e,[])},y=function(t){return Math.floor(t/e.pointsForFreeHint)*e.pointsForFreeHint},x=R.compose(R.add(e.pointsForFreeHint),y),N=function(t,n){var o,r;return r=t-n,o=x(r),Math.ceil(Math.max(0,n-(o-r))/e.pointsForFreeHint)},q=function(e){return P(e)?g.HIDDEN:g.SOLVED},M=R.eq(g.HIDDEN),H=R.eq(g.SOLVED),p=R.zipWith(function(e,t){return{"char":e,status:t}}),se=function(e){var t;return t=function(e,t,n){var o;return Z(t)&&(C(t)?e.push([]):(o={"char":t,index:n},e[e.length-1].push(o))),e},R.reduceIndexed(t,[[]],e)},f=R.compose(R.join(""),R.map(R.prop("char"))),L=R.curry(function(e,t){var n;return n=function(t,n){return e[n.index]===g.SOLVED&&t++,t},R.reduce(n,0,t)!==t.length}),ae=function(e,t,n){return"function"==typeof e&&(e=e(t[n])),t[n]=e,t},ue=R.curry(function(e,t,n){return R.reduce(R.partial(ae,e),t,n)}),de=ue(g.SOLVED),ie=ue(function(e){var t;return t={},t[g.HIDDEN]=g.REVEALED,t[g.HINTED]=g.HINTEDFILLED,t[e]||e}),ne=function(e){var t,n;return t={},t[g.SOLVED]=g.SOLVED,t[g.HINTED]=g.HINTED,t[g.HINTEDFILLED]=g.HINTED,n=function(e){return t[e]||g.HIDDEN},R.map(n,e)},ge=function(e,t,n){var o,r,s;return s=new RegExp("^"+e,"i"),o=f(n),s.test(o)?(r=R.map(R.prop("index"))(R.take(e.length,n)),e.length===n.length?de(t,r):ie(t,r)):t},v=function(e,t,n){return t.length<1?n:(n=R.reduce(R.partial(ge,t),n,e),v(e,t.slice(1),n))},E=function(e,t){var n,o,r;return e.length<1?[]:(r=new RegExp("^"+e,"i"),o=R.compose(R.match(r),f),n=R.any(o,t),n?e:E(e.slice(1),t))},pe={start:{onEnter:function(){return le("start")},onEvent:function(e,t,n,o){return"gameReady"===n?["loadingUser",t,o]:["start",t,o]},getRenderData:function(){return{secretMessage:[],feedback:"LOADING...",score:"",showPlayActions:!1}}},loadingUser:{onEnter:function(e,t){return le("loadingUser"),D(t)},onEvent:function(e,t,n,o){return"userLoaded"===n?["loading",t,e]:["loadingUser",t,o]},getRenderData:function(){return{secretMessage:[],feedback:"LOADING...",score:"",showPlayActions:!1}}},loading:{onEnter:function(e,t){return le("loading"),b(t)},onEvent:function(t,n,o,r){var s,a,u;return"quoteLoaded"===o?(a=function(e,t){var n;return n=function(e){return t[e]=g.HINTED},R.forEach(n,e)},u=t.message,s=R.map(q,u),r.progressPerBundle?0===r.progressPerBundle[0]?a([3,4],s):1===r.progressPerBundle[0]&&a([17],s):a([10,28,38,60],s),n.secretMessage=u,n.currentBundleIndex=t.bundleIndex,n.currentQuoteIndex=t.quoteIndex,n.comboGroups=se(u),n.decodeKey=s,n.comboString="",n.score=R.filter(P,u).length*e.pointsPerLetter,n.moves=0,n.hints=0,n.lastCombo=null,["play",n,r]):["loading",n,r]},getRenderData:function(){return{secretMessage:[],feedback:"LOADING...",score:"",showPlayActions:!1}}},play:{onEnter:function(){return le("play")},onEvent:function(t,n,o,r){var s,a,u,i,d,c,f,p,h,b,m,y,w,x,I,S;if("giveUp"===o)return["gaveUp",n,r];if("hint"===o){if(r.hintsRemaining<=0)return["outOfHints",n,r];if(m=function(e){return Math.ceil(e/10)},c=oe(n.decodeKey),i=R.filter(R.compose(M,R.prop("status")))(c),0===i.length)return["play",n,r];d=m(i.length),a=k(i,d),f=R.map(R.prop("index"),a),h=n.score-e.hintSetback<0?0:n.score-e.hintSetback,n.decodeKey=ue(g.HINTED,n.decodeKey,f),n.hints+=1,n.score=h,r.hintsRemaining-=1,re(r),y=function(e,t){return null==t&&(t=1),z("keyPressMiss"),e>t?setTimeout(function(){return y(e,t+1)},120):void 0},y(d)}return"keyPress"===o&&(s=String.fromCharCode(t.keyCode).toLowerCase(),P(s)&&(w=n.comboString+s,u=ne(n.decodeKey),I=R.filter(L(n.decodeKey),n.comboGroups),n.moves+=1,n.score=Math.max(0,n.score-1),n.comboString=E(w,I),n.decodeKey=v(n.comboGroups,n.comboString,u),n.lastCombo=n.comboCompleted===!0?s:w,b=R.filter(L(n.decodeKey),n.comboGroups),n.comboCompleted=I.length>b.length,p=!!n.comboString.length,S=n.comboCompleted===!0,z(S?"keyPressHit":p?"keyPressHit":"keyPressMiss")),x=R.length(R.filter(H)(n.decodeKey)),x===n.secretMessage.length)?(z("solved"),r.totalScore+=n.score,r.hintsRemaining+=N(r.totalScore,n.score),r.lastSolvedBundleIndex=n.currentBundleIndex,r.lastSolvedQuoteIndex=n.currentQuoteIndex,r.progressPerBundle=l(r.progressPerBundle,n.currentBundleIndex,n.currentQuoteIndex),re(r),["solved",n,r]):["play",n,r]},getRenderData:function(e){var t,n,o,r,s,a;return s=function(t,n){return P(e.secretMessage[n])},a=R.filterIndexed(s,e.decodeKey),n=function(e){return e===g.REVEALED||e===g.SOLVED||e===g.HINTEDFILLED},o=R.length(R.filter(n,a)),r=o/a.length,t=e.comboString.length?e.comboString:null,{secretMessage:p(e.secretMessage,e.decodeKey),feedback:t||e.lastCombo||"Type letters to begin revealing the hidden message.",match:e.lastCombo?!!e.comboString.length>0:null,score:e.score,showPlayActions:!0,progress:r}}},gaveUp:{onEnter:function(){return le("gaveUp")},onEvent:function(t,n,o,r){var s;return"confirm"===o?(z("giveUp"),s=R.length(R.filter(R.compose(R.not,H))(n.decodeKey)),r.lastSolvedBundleIndex=n.currentBundleIndex,r.lastSolvedQuoteIndex=n.currentQuoteIndex,r.totalScore-=s*e.pointsPerLetter,r.progressPerBundle=l(r.progressPerBundle,n.currentBundleIndex,n.currentQuoteIndex),re(r),["confirmedGiveUp",n,r]):"cancel"===o?["play",n,r]:["gaveUp",n,r]},getRenderData:function(t){var n,o;return o=e.pointsPerLetter*R.length(R.filter(R.compose(R.not,H))(t.decodeKey)),n=t.comboString.length?t.comboString:null,{secretMessage:p(t.secretMessage,t.decodeKey),feedback:n||t.lastCombo||"Type letter combos to reveal the hidden message.",match:t.lastCombo?!!t.comboString.length>0:null,score:t.score,showPlayActions:!0,buyHints:!0,giveUp:!0,giveUpCost:o}}},confirmedGiveUp:{onEnter:function(){return le("confirmedGiveUp")},onEvent:function(e,t,n,r){return"keyPress"===n&&32===e.keyCode?(t.secretMessage=void 0,t.comboGroups=void 0,t.decodeKey=void 0,t.comboString=void 0,t.score=void 0,t.moves=void 0,t.hints=void 0,t.lastCombo=void 0,u(r.lastSolvedBundleIndex,r.lastSolvedQuoteIndex)?["noMoreQuotes",t,r]:o(r.lastSolvedBundleIndex,r.lastSolvedQuoteIndex)?["bundleCompleted",t,r]:["loading",t,r]):["confirmedGiveUp",t,r]},getRenderData:function(e){return{secretMessage:p(e.secretMessage,R.map(R.always(g.SOLVED),e.decodeKey)),feedback:"You gave up!<br>Press 'Space bar' to play again.",score:0,showPlayActions:!1,showLogInLink:null!=a?a.services.isGuest():void 0}}},solved:{onEnter:function(){return le("solved")},onEvent:function(e,t,n,r){return"keyPress"===n&&32===e.keyCode?(t.secretMessage=void 0,t.comboGroups=void 0,t.decodeKey=void 0,t.comboString=void 0,t.score=void 0,t.moves=void 0,t.hints=void 0,t.lastCombo=void 0,u(r.lastSolvedBundleIndex,r.lastSolvedQuoteIndex)?["noMoreQuotes",t,r]:o(r.lastSolvedBundleIndex,r.lastSolvedQuoteIndex)?["bundleCompleted",t,r]:["loading",t,r]):["solved",t,r]},getRenderData:function(e){var t;return t=e.hints>1?e.hints:"no",{secretMessage:p(e.secretMessage,e.decodeKey),feedback:"SOLVED in "+e.moves+" moves!<br>Press 'Space bar' to play again.",score:e.score,showPlayActions:!1,solved:!0,showLogInLink:null!=a?a.services.isGuest():void 0}}},outOfHints:{onEnter:function(){return le("outOfHints")},onEvent:function(e,t,n,o){return"confirm"===n?["play",t,o]:["outOfHints",t,o]},getRenderData:function(e){var t;return t=e.comboString.length?e.comboString:null,{secretMessage:p(e.secretMessage,e.decodeKey),feedback:t||e.lastCombo||"Type letter combos to reveal the hidden message.",match:e.lastCombo?!!e.comboString.length>0:null,score:e.score,showPlayActions:!0,buyHints:!0}}},noMoreQuotes:{onEnter:function(){return le("noMoreQuotes")},onEvent:function(e,t,n,o){return"confirm"===n?["loading",t,o]:["noMoreQuotes",t,o]},getRenderData:function(){return{secretMessage:"",feedback:"",showPlayActions:!1,noMoreQuotes:!0}}},bundleCompleted:{onEnter:function(){return le("bundleCompleted")},onEvent:function(e,t,n,o){return"confirm"===n?["loading",t,o]:["bundleCompleted",t,o]},getRenderData:function(){return{secretMessage:"",feedback:"",showPlayActions:!1,bundleCompleted:!0}}}},m=function(e,t,n){var o,r,s,a;return a=e.state.onEvent(n,e.scope,t,e.userData),r=a[0],o=a[1],s=a[2],pe[r]!==e.state&&pe[r].onEnter(o,s),te(pe[r].getRenderData(o),o,s),{state:pe[r],scope:o,userData:s}},he=function(e,t){var n,o,r,s,a;return s=K(this.store,this.currentState,e,t,this.userData),this.store=s[0],this.currentState=s[1],this.userData=s[2],a=m({state:this.currentState,scope:this.store,userData:this.userData},e,t),o=a.state,n=a.scope,r=a.userData,this.currentState=o,this.store=n,this.userData=r},he.userData={},he.store={},he.currentState=pe.start,he=he.bind(he),K=function(e,t,n,o,r){return"toggleMuteMusic"===n&&(e.musicIsPaused?X():Y(),e.musicIsPaused=!e.musicIsPaused),"toggleMuteSFX"===n&&(e.SFXIsPaused?J():W(),e.SFXIsPaused=!e.SFXIsPaused),"getHelp"===n&&(e.showHelp=!e.showHelp),"cancel"===n&&e.showHelp&&(e.showHelp=!e.showHelp),"loggedIn"===n&&(t=pe.loadingUser,D(r)),[e,t,r]},b=function(e){var t,n;return n=s(e.lastSolvedBundleIndex,e.lastSolvedQuoteIndex),t=d[n.bundleIndex][n.quoteIndex].quote,setTimeout(function(){return he("quoteLoaded",{message:t,bundleIndex:n.bundleIndex,quoteIndex:n.quoteIndex})},0)},$=function(e){var t;return(8===(t=e.keyCode)||32===t||9===t||37===t||38===t||39===t||40===t)&&e.preventDefault(),he("keyPress",e)},U=function(e){return e.preventDefault(),he("giveUp",null)},G=function(e){return e.preventDefault(),he("hint",null)},V=function(e){return e.preventDefault(),he("toggleMuteMusic",null)},j=function(e){return e.preventDefault(),he("toggleMuteSFX",null)},F=function(e){return e.preventDefault(),he("getHelp",null)},Q=function(e){return e.preventDefault(),he("cancel",null)},_=function(e){return e.preventDefault(),he("confirm",null)},A=function(){return he("loggedIn",null)},c=function(e){var t,n;return n=R.invertObj(g),t=function(e,t){var o,r,s;return C(t["char"])?(o="",/[\n\r]/.test(t["char"])&&(o="<br>"),e+("</span>"+o+"<span class='word'>")):(s=t["char"],t.status===g.HIDDEN&&(s=" "),r=n[t.status].toLowerCase(),e+("<span class='letter "+r+"'>"+s+"</span>"))},R.reduce(t,"<span class='word'>",e)+"</span>"},te=function(e,t,n){var o,s,u,i,l,f,p,g,h,b,m,v,y,w,R,I,k,S,D,E,q,M,P,Z,H,C,L;return f=Zepto("#secret-message"),o=Zepto("#feedback"),s=Zepto("#feedback #message"),l=Zepto("#score"),u=Zepto("#mute-music-button"),i=Zepto("#mute-sfx-button"),H=e.secretMessage,h=e.feedback,Z=e.score,C=e.showPlayActions,w=e.match,g=e.buyHints,b=e.giveUp,m=e.giveUpCost,f.html(c(H)),s.html(h),l.text(Z),o.removeClass("no-match"),o.removeClass("match"),w===!0&&o.addClass("match"),w===!1&&o.addClass("no-match"),e.showLogInLink?Zepto("#feedback .login-link").show():Zepto("#feedback .login-link").hide(),e.solved?Zepto("#share").show():Zepto("#share").hide(),C?Zepto("#play-actions").show():Zepto("#play-actions").hide(),Zepto("#hint-button .hints-remaining").text(n.hintsRemaining),u.removeClass("muted"),i.removeClass("muted"),t.musicIsPaused&&u.addClass("muted"),t.SFXIsPaused&&i.addClass("muted"),Zepto("#dialog").hide(),g&&(Zepto("#dialog #cancel").hide(),Zepto("#dialog #confirm").show(),k=x(n.totalScore),M=x(n.totalScore)-n.totalScore,Zepto("#dialog").show(),Zepto("#dialog h3").text("You are out of hints!"),Zepto("#dialog #message-content").html("Next free hint awarded at "+k+" points ("+M+" points to go)"),Zepto("#dialog #confirm").text("OK")),b&&(Zepto("#dialog #cancel").show(),Zepto("#dialog #confirm").show(),Zepto("#dialog").show(),Zepto("#dialog h3").text("Are you sure you want to give up?"),Zepto("#dialog #message-content").html("You will lose "+m+" points for the remaining unsolved words."),Zepto("#dialog #confirm").text("Yes, give up"),Zepto("#dialog #cancel").text("No, I'll keep trying")),e.noMoreQuotes&&(Zepto("#dialog #cancel").hide(),Zepto("#dialog #confirm").show(),Zepto("#dialog").show(),Zepto("#dialog h3").text("You solved all of the quotes!"),Zepto("#dialog #message-content").html("<p>Thank you for playing.</p><p><a target='_blank' href='http://codeperfectionist.com/portfolio/games/hidden-message-game/'>Stay tuned for more quote bundles and extra features</a></p>"),Zepto("#dialog #confirm").text("Play again?")),p=r[t.currentBundleIndex||0],I=r[(t.currentBundleIndex||0)+1],e.bundleCompleted&&(Zepto("#dialog #cancel").hide(),Zepto("#dialog #confirm").show(),Zepto("#dialog").show(),Zepto("#dialog h3").text('Congratulations, you finished the "'+p+'" bundle!'),Zepto("#dialog #message-content").html("You've unlocked the \""+I+'" bundle.'),Zepto("#dialog #confirm").text("Play next bundle")),t.showHelp&&(Zepto("#dialog #cancel").show(),Zepto("#dialog #confirm").hide(),Zepto("#dialog").show(),Zepto("#dialog h3").text("Help"),Zepto("#dialog #message-content").html("<p>Stuck?  You must reveal the secret message one letter at a time, from the start of each word.  Solving each word will give you a clue to which letters other words start with.  Try going for shorter word first.  The words stay solved only when you complete them.  You can always use a hint or give up, but it will cost you.  Good luck!</p>\n<h3>Credits</h3>\n<ul>\n  <li>Game designed and built by <a target='_blank' href='http://codeperfectionist.com/about'>Jeff Schomay</a></li>\n  <li>Music by Jamison Rivera\n  <li>Owl character by <a target='_blank' href='http://sherony.com'>Sherony Lock</a></li>\n  <li>Sound effects by <a target='_blank' href='https://www.freesound.org/people/ddohler/sounds/9098/'>ddohler</a>,\n  <a target='_blank' href='https://www.freesound.org/people/Horn/sounds/9744/'>Horn</a>,\n  <a target='_blank' href='https://www.freesound.org/people/NHumphrey/sounds/204466/'>NHumphrey</a>, and\n  <a target='_blank' href='https://www.freesound.org/people/lonemonk/sounds/47048/'>lonemonk</a></li>\n  <li>Special thanks to: Mark, Marcus, Zia, David, Joey, Molly and Michele</li>\n</ul>"),Zepto("#dialog #cancel").text("Keep playing")),S=(t.currentQuoteIndex||0)+1,p=r[t.currentBundleIndex||0],L=d[t.currentBundleIndex||0].length,Zepto("#user-info").show(),Zepto("#progress").html('Bundle: "'+p+'"<br>#'+S+" out of "+L),Zepto("#total-score").text(n.totalScore),(null!=a?a.services.isGuest():void 0)?Zepto("#user-info .login-link").show():Zepto("#user-info .login-link").hide(),E=Zepto("#owl").width(),v=200,q=window.innerWidth-v-E,P=e.progress||0,D=q*P+v/2,y=15,R=function(e,t){return Zepto("#owl").css({"-webkit-transform":"translate3d("+e+"px, -"+t+"px, 0)","-ms-transform":"translate3d("+e+"px, -"+t+"px, 0)",transform:"translate3d("+e+"px, -"+t+"px, 0)"})},e.solved?R(window.innerWidth-(E+10),70):R(D,y),setTimeout(function(){return e.solved?void 0:R(D,0)},70)},O=function(e){return R.length(R.filter(R.compose(R.identity,R.prop("_loaded")),R.values(e)))},be=function(e,t){return O(t)===e?ce():void 0},T=function(e){var n,o,r,s;return s=R.length(R.keys(e)),n=[".ogg",".m4a",".wav"],o=function(e){return R.map(R.concat(e),n)},r=function(e,t){var n;return n=function(){return"string"==typeof t[1]?{urls:o(t[1]),onload:function(){return be(s,e)}}:R.merge(t[1][1],{urls:o(t[1][0]),onload:function(){return be(s,e)}})},e[t[0]]=new Howl(n()),e},R.reduce(r,t,R.toPairs(e))},B=function(e){var t,n;return n=function(e){var t;return t=new Image,t.src=e,t},(t=R.map(n))(e)},ee=function(){var e;return e=B(["assets/owl-normal.png","assets/owl-happy.png","assets/owl-sad.png","assets/owl-blink.png"]),T({keyPressMiss:"assets/key-press-miss",keyPressHit:["assets/key-press-hit",{volume:n.keyPressHit}],giveUp:"assets/give-up",solved:"assets/solved",backgroundMusic:["assets/background-music-long",{volume:n.backgroundMusic,onend:function(){return this.play()}}]})},le=function(e){return Zepto("body").removeClass(),Zepto("body").addClass(e)},fe=function(){var e,t;return t=function(){return Zepto("#owl").toggleClass("blink")},e=function(){return t(),setTimeout(t,200),setTimeout(e,8e3+5e3*(Math.random()-.5))},setTimeout(e,5e3),setTimeout(e,7e3)},ce=function(){return Zepto(function(e){return h(),e(".popup").click(function(){var t,n,o,r,s,a;return a=575,t=400,n=(e(window).width()-a)/2,r=(e(window).height()-t)/2,s=this.href,o="status=1,width="+a+",height="+t+",top="+r+",left="+n,window.open(s,"Share",o),!1}),e(document).on("keydown",$),e("#give-up-button").on("click",U),e("#hint-button").on("click",G),e("#mute-music-button").on("click",V),e("#mute-sfx-button").on("click",j),e("#help-button").on("click",F),e("#cancel").on("click",Q),e("#confirm").on("click",_),e(".login-link").on("click",function(){return null!=a?a.services.showSignInBox():void 0}),null!=a&&a.services.addEventListener("login",A),fe(),he("gameReady")})},D=function(t){var n,o,r;return n={hintsRemaining:e.startingHints,totalScore:0,lastSolvedBundleIndex:void 0,lastSolvedQuoteIndex:void 0,progressPerBundle:void 0},o=R.values(t).length,r=o?t:n,i.load().then(function(e){var t,n;return e?(t=e.toJSON(),n=t.plays||0,t.plays=n+1,re(t),he("userLoaded",R.merge(r,t))):(re(r),he("userLoaded",r))},function(e){return console.error("Error loading user data:",e),he("userLoaded",r)})},re=function(e){return i.save(e)},ee()}}),require.register("src/persist",function(e,t,n){var o,r,s,a;s=parent.kongregate,Parse.initialize("iul0cVOM5mJWAj1HHBa158cpMoyEQ2wWxSK3Go9O","pbFnYPVaSunEmgjI8qTKqkW8nHKoB6Xor1DtOWpD"),r=function(){var e,t;return e=!1,s?s.services.isGuest()?void 0:t=s.services.getUserId():e?"mockUser":void 0},o=Parse.Object.extend("KongregatePlayer"),a=void 0,n.exports={save:function(e){var t;return(t=r())?a?a.save(e).then(function(){return!0},function(e){return console.error(e)}):(a=new o,a.set("userId",""+t),a.save(e).then(function(){return!0},function(e){return console.error(e)})):void 0},load:function(){var e,t,n,s;return s=r(),s?(n=new Parse.Query(o),n.equalTo("userId",""+s),t=n.first(),t.then(function(e){return e?a=e:void 0},function(e){return console.error(e)}),t):(e=new Parse.Promise,setTimeout(function(){return e.resolve()},0),e)}}});