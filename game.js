!function(){"use strict";var e="undefined"!=typeof window?window:global;if("function"!=typeof e.require){var t={},n={},o=function(e,t){return{}.hasOwnProperty.call(e,t)},r=function(e,t){var n,o,r=[];n=/^\.\.?(\/|$)/.test(t)?[e,t].join("/").split("/"):t.split("/");for(var s=0,u=n.length;u>s;s++)o=n[s],".."===o?r.pop():"."!==o&&""!==o&&r.push(o);return r.join("/")},s=function(e){return e.split("/").slice(0,-1).join("/")},u=function(t){return function(n){var o=s(t),u=r(o,n);return e.require(u,t)}},a=function(e,t){var o={id:e,exports:{}};return n[e]=o,t(o.exports,u(e),o),o.exports},i=function(e,s){var u=r(e,".");if(null==s&&(s="/"),o(n,u))return n[u].exports;if(o(t,u))return a(u,t[u]);var i=r(u,"./index");if(o(n,i))return n[i].exports;if(o(t,i))return a(i,t[i]);throw new Error('Cannot find module "'+e+'" from "'+s+'"')},l=function(e,n){if("object"==typeof e)for(var r in e)o(e,r)&&(t[r]=e[r]);else t[e]=n},d=function(){var e=[];for(var n in t)o(t,n)&&e.push(n);return e};e.require=i,e.require.define=l,e.require.register=l,e.require.list=d,e.require.brunch=!0}}(),require.register("src/bundles",function(e,t,n){var o,r,s,u,a,i;a=[t("./bundles/starter"),t("./bundles/quotes2")],r=["Starter","Quotes #2"],i=function(e,t,n){var o;return e?t===e.length-1?n>R.last(e)?R.append(n,R.slice(0,-1,e)):e:t>e.length-1?R.append(n,e):e:(o=R.times(R.always(0),t),R.append(n,o))},s=function(e,t){return null==t?{quoteIndex:0,bundleIndex:0}:t===a[e].length-1?{quoteIndex:0,bundleIndex:a[e+1]?e+1:0}:{quoteIndex:t+1,bundleIndex:e}},u=function(e,t){var n;return n=s(e,t),0===n.quoteIndex&&0===n.bundleIndex},o=function(e,t){var n;return n=s(e,t),0===n.quoteIndex},n.exports={quoteBundles:a,bundleNames:r,updateProgressPerBundle:i,getNextQuoteIndex:s,noMoreQuotes:u,bundleCompleted:o}}),require.register("src/bundles/quotes2",function(e,t,n){n.exports=[{_id:{$oid:"554fbba30a061f9afcba2b7c"},quote:"If a tree falls in a forest and no one is around to hear it, does it make a sound?",bundle:"quotes2"},{_id:{$oid:"554fb8670a061f9afcba2b76"},quote:"You miss 100% of the shots you don’t take.",bundle:"quotes2"},{_id:{$oid:"554fb89e0a061f9afcba2b77"},quote:"Life is what happens to you while you’re busy making other plans.",bundle:"quotes2"},{_id:{$oid:"554fbad40a061f9afcba2b7a"},quote:"If all you have is a hammer, everything looks like a nail.",bundle:"quotes2"},{_id:{$oid:"554fb64d0a061f9afcba2b75"},quote:"Be the change you wish to see in the world.",bundle:"quotes2"},{_id:{$oid:"554fb4ab0a061f9afcba2b73"},quote:"Obstacles are what you see when you take your eyes off your goal.",bundle:"quotes2"},{_id:{$oid:"554fbbe40a061f9afcba2b7d"},quote:"Never try to teach a pig to sing; it wastes your time and it annoys the pig.",bundle:"quotes2"},{_id:{$oid:"554fc1230a061f9afcba2b7f"},quote:"Two things are infinite: the universe and human stupidity; and I'm not sure about the universe.",bundle:"quotes2"},{_id:{$oid:"554fbd090a061f9afcba2b7e"},quote:"Did you know: Two thirds of the people on earth have never seen snow?",bundle:"quotes2"},{_id:{$oid:"554fba310a061f9afcba2b78"},quote:'My Mama always said, "Life was like a box of chocolates; you never know what you\'re gonna get."',bundle:"quotes2"}]}),require.register("src/bundles/starter",function(e,t,n){n.exports=[{_id:{$oid:"554fba3e0a061f9afcba2b79"},quote:"Happiness isn't having what you want, it's wanting what you have.",bundle:"starter"},{_id:{$oid:"554fbb780a061f9afcba2b7b"},quote:"He who laughs last, laughs longest.",bundle:"starter"},{_id:{$oid:"554fb52e0a061f9afcba2b74"},quote:"That's one small step for man, one giant leap for mankind.",bundle:"starter"},{_id:{$oid:"554fb40c0a061f9afcba2b6f"},quote:"Do... or do not. There is no try. Only do.",bundle:"starter"},{_id:{$oid:"554fb2c60a061f9afcba2b6d"},quote:"Talk sense to a fool and he calls you foolish.",bundle:"starter"},{_id:{$oid:"554fb4880a061f9afcba2b72"},quote:"80% of success is just showing up.",bundle:"starter"},{_id:{$oid:"554fc398720a9ad00b7fa94b"},quote:"If you choose not to decide, you still have made a choice.",bundle:"starter"},{_id:{$oid:"554fb2980a061f9afcba2b6c"},quote:"Today is the tomorrow you worried about yesterday.",bundle:"starter"},{_id:{$oid:"554fb4420a061f9afcba2b70"},quote:"You're almost to the end of the starter bundle!  Good job, keep going.",bundle:"starter"},{_id:{$oid:"554fb46b0a061f9afcba2b71"},quote:"Do not underestimate the power of the Force.",bundle:"starter"}]}),require.register("src/game",function(e,t,n){var o,r,s,u,a,i,l,d,c,f;u=parent.kongregate,f=t("./bundles"),l=f.quoteBundles,r=f.bundleNames,s=f.getNextQuoteIndex,c=f.updateProgressPerBundle,a=f.noMoreQuotes,o=f.bundleCompleted,i=t("./persist"),d=t("./stats"),n.exports=function(){var e,t,n,f,p,g,h,b,m,v,y,w,x,I,k,S,D,E,q,P,M,Z,H,C,L,B,T,N,Q,O,_,K,U,F,G,$,A,V,j,Y,W,X,J,z,ee,te,ne,oe,re,se,ue,ae,ie,le,de,ce,fe,pe,ge,he,be,me;return e={startingHints:3,hintSetback:40,pointsForFreeHint:200,pointsPerLetter:5},t={},n={backgroundMusic:1,keyPressHit:.9},ee=function(e){return t[e].play()},x=function(){return t.backgroundMusic},D=function(){return R.omit(["backgroundMusic"],t)},J=function(){return x().play()},W=function(){return x().pause()},z=function(){return R.forEach(function(e){return e[1].volume(n[e[0]]||1)},R.toPairs(D()))},X=function(){return R.forEach(function(e){return e.volume(0)},R.values(D()))},b=function(){return x().fadeIn(n.backgroundMusic,2e3)},h={HIDDEN:0,REVEALED:1,SOLVED:2,HINTED:3,HINTEDFILLED:4},Z=function(e){return/[a-z]/i.test(e)},H=function(e){return/[a-z\s]/i.test(e)},L=function(e){return/[\s]/i.test(e)},re=R.mapIndexed(function(e,t){return{index:t,status:e}}),k=function(e){var t,n,o;return o=Math.floor(Math.random()*e.length),n=e[o],t=R.remove(o,1,e),[n,t]},S=function(e,t){var n;return null==t&&(t=1),"number"!=typeof t&&(console.error("expected a number, got",t),t=1),(n=function(e,o){var r,s,u;return u=k(e),s=u[0],r=u[1],o.push(s),o.length===t?o:n(r,o)})(e,[])},w=function(t){return Math.floor(t/e.pointsForFreeHint)*e.pointsForFreeHint},I=R.compose(R.add(e.pointsForFreeHint),w),Q=function(t,n){var o,r;return r=t-n,o=I(r),Math.ceil(Math.max(0,n-(o-r))/e.pointsForFreeHint)},P=function(e){return Z(e)?h.HIDDEN:h.SOLVED},M=R.eq(h.HIDDEN),C=R.eq(h.SOLVED),g=R.zipWith(function(e,t){return{"char":e,status:t}}),ue=function(e){var t;return t=function(e,t,n){var o;return H(t)&&(L(t)?e.push([]):(o={"char":t,index:n},e[e.length-1].push(o))),e},R.reduceIndexed(t,[[]],e)},p=R.compose(R.join(""),R.map(R.prop("char"))),B=R.curry(function(e,t){var n;return n=function(t,n){return e[n.index]===h.SOLVED&&t++,t},R.reduce(n,0,t)!==t.length}),ae=function(e,t,n){return"function"==typeof e&&(e=e(t[n])),t[n]=e,t},ie=R.curry(function(e,t,n){return R.reduce(R.partial(ae,e),t,n)}),de=ie(h.SOLVED),le=ie(function(e){var t;return t={},t[h.HIDDEN]=h.REVEALED,t[h.HINTED]=h.HINTEDFILLED,t[e]||e}),oe=function(e){var t,n;return t={},t[h.SOLVED]=h.SOLVED,t[h.HINTED]=h.HINTED,t[h.HINTEDFILLED]=h.HINTED,n=function(e){return t[e]||h.HIDDEN},R.map(n,e)},he=function(e,t,n){var o,r,s;return s=new RegExp("^"+e,"i"),o=p(n),s.test(o)?(r=R.map(R.prop("index"))(R.take(e.length,n)),e.length===n.length?de(t,r):le(t,r)):t},y=function(e,t,n){return t.length<1?n:(n=R.reduce(R.partial(he,t),n,e),y(e,t.slice(1),n))},q=function(e,t){var n,o,r;return e.length<1?[]:(r=new RegExp("^"+e,"i"),o=R.compose(R.match(r),p),n=R.any(o,t),n?e:q(e.slice(1),t))},ge={start:{onEnter:function(){return ce("start")},onEvent:function(e,t,n,o){return"gameReady"===n?["loadingUser",t,o]:["start",t,o]},getRenderData:function(){return{secretMessage:[],feedback:"LOADING...",score:"",showPlayActions:!1}}},loadingUser:{onEnter:function(e,t){return ce("loadingUser"),E(t)},onEvent:function(e,t,n,o){return"userLoaded"===n?["loading",t,e]:["loadingUser",t,o]},getRenderData:function(){return{secretMessage:[],feedback:"LOADING...",score:"",showPlayActions:!1}}},loading:{onEnter:function(e,t){return ce("loading"),m(t)},onEvent:function(t,n,o,r){var s,u,a;return"quoteLoaded"===o?(u=function(e,t){var n;return n=function(e){return t[e]=h.HINTED},R.forEach(n,e)},a=t.message,s=R.map(P,a),r.progressPerBundle?0===r.progressPerBundle[0]?u([3,4],s):1===r.progressPerBundle[0]&&u([17],s):u([10,28,38,60],s),n.secretMessage=a,n.currentBundleIndex=t.bundleIndex,n.currentQuoteIndex=t.quoteIndex,n.comboGroups=ue(a),n.decodeKey=s,n.comboString="",n.score=R.filter(Z,a).length*e.pointsPerLetter,n.moves=0,n.hints=0,n.lastCombo=null,["play",n,r]):["loading",n,r]},getRenderData:function(){return{secretMessage:[],feedback:"LOADING...",score:"",showPlayActions:!1}}},play:{onEnter:function(){return ce("play")},onEvent:function(t,n,o,r){var s,u,a,i,l,f,p,g,b,m,v,w,x,I,k,D;if("giveUp"===o)return["gaveUp",n,r];if("hint"===o){if(r.hintsRemaining<=0)return["outOfHints",n,r];if(v=function(e){return Math.ceil(e/10)},f=re(n.decodeKey),i=R.filter(R.compose(M,R.prop("status")))(f),0===i.length)return["play",n,r];l=v(i.length),u=S(i,l),p=R.map(R.prop("index"),u),b=n.score-e.hintSetback<0?0:n.score-e.hintSetback,n.decodeKey=ie(h.HINTED,n.decodeKey,p),n.hints+=1,n.score=b,r.hintsRemaining-=1,se(r),w=function(e,t){return null==t&&(t=1),ee("keyPressMiss"),e>t?setTimeout(function(){return w(e,t+1)},120):void 0},w(l)}return"keyPress"===o&&(s=String.fromCharCode(t.keyCode).toLowerCase(),Z(s)&&(x=n.comboString+s,a=oe(n.decodeKey),k=R.filter(B(n.decodeKey),n.comboGroups),n.moves+=1,n.score=Math.max(0,n.score-1),n.comboString=q(x,k),n.decodeKey=y(n.comboGroups,n.comboString,a),n.lastCombo=n.comboCompleted===!0?s:x,m=R.filter(B(n.decodeKey),n.comboGroups),n.comboCompleted=k.length>m.length,g=!!n.comboString.length,D=n.comboCompleted===!0,ee(D?"keyPressHit":g?"keyPressHit":"keyPressMiss")),I=R.length(R.filter(C)(n.decodeKey)),I===n.secretMessage.length)?(ee("solved"),r.totalScore+=n.score,r.hintsRemaining+=Q(r.totalScore,n.score),r.lastSolvedBundleIndex=n.currentBundleIndex,r.lastSolvedQuoteIndex=n.currentQuoteIndex,r.progressPerBundle=c(r.progressPerBundle,n.currentBundleIndex,n.currentQuoteIndex),d(r),se(r),["solved",n,r]):["play",n,r]},getRenderData:function(e){var t,n,o,r,s,u;return s=function(t,n){return Z(e.secretMessage[n])},u=R.filterIndexed(s,e.decodeKey),n=function(e){return e===h.REVEALED||e===h.SOLVED||e===h.HINTEDFILLED},o=R.length(R.filter(n,u)),r=o/u.length,t=e.comboString.length?e.comboString:null,{secretMessage:g(e.secretMessage,e.decodeKey),feedback:t||e.lastCombo||"Type letters to begin revealing the hidden message.",match:e.lastCombo?!!e.comboString.length>0:null,score:e.score,showPlayActions:!0,progress:r}}},gaveUp:{onEnter:function(){return ce("gaveUp")},onEvent:function(t,n,o,r){var s;return"confirm"===o?(ee("giveUp"),s=R.length(R.filter(R.compose(R.not,C))(n.decodeKey)),r.lastSolvedBundleIndex=n.currentBundleIndex,r.lastSolvedQuoteIndex=n.currentQuoteIndex,r.totalScore-=s*e.pointsPerLetter,r.progressPerBundle=c(r.progressPerBundle,n.currentBundleIndex,n.currentQuoteIndex),d(r),se(r),["confirmedGiveUp",n,r]):"cancel"===o?["play",n,r]:["gaveUp",n,r]},getRenderData:function(t){var n,o;return o=e.pointsPerLetter*R.length(R.filter(R.compose(R.not,C))(t.decodeKey)),n=t.comboString.length?t.comboString:null,{secretMessage:g(t.secretMessage,t.decodeKey),feedback:n||t.lastCombo||"Type letter combos to reveal the hidden message.",match:t.lastCombo?!!t.comboString.length>0:null,score:t.score,showPlayActions:!0,buyHints:!0,giveUp:!0,giveUpCost:o}}},confirmedGiveUp:{onEnter:function(){return ce("confirmedGiveUp")},onEvent:function(e,t,n,r){return"keyPress"===n&&32===e.keyCode?(t.secretMessage=void 0,t.comboGroups=void 0,t.decodeKey=void 0,t.comboString=void 0,t.score=void 0,t.moves=void 0,t.hints=void 0,t.lastCombo=void 0,a(r.lastSolvedBundleIndex,r.lastSolvedQuoteIndex)?["noMoreQuotes",t,r]:o(r.lastSolvedBundleIndex,r.lastSolvedQuoteIndex)?["bundleCompleted",t,r]:["loading",t,r]):["confirmedGiveUp",t,r]},getRenderData:function(e){return{secretMessage:g(e.secretMessage,R.map(R.always(h.SOLVED),e.decodeKey)),feedback:"You gave up!<br>Press 'Space bar' to play again.",score:0,showPlayActions:!1,showLogInLink:null!=u?u.services.isGuest():void 0}}},solved:{onEnter:function(){return ce("solved")},onEvent:function(e,t,n,r){return"keyPress"===n&&32===e.keyCode?(t.secretMessage=void 0,t.comboGroups=void 0,t.decodeKey=void 0,t.comboString=void 0,t.score=void 0,t.moves=void 0,t.hints=void 0,t.lastCombo=void 0,a(r.lastSolvedBundleIndex,r.lastSolvedQuoteIndex)?["noMoreQuotes",t,r]:o(r.lastSolvedBundleIndex,r.lastSolvedQuoteIndex)?["bundleCompleted",t,r]:["loading",t,r]):["solved",t,r]},getRenderData:function(e){var t;return t=e.hints>1?e.hints:"no",{secretMessage:g(e.secretMessage,e.decodeKey),feedback:"SOLVED in "+e.moves+" moves!<br>Press 'Space bar' to play again.",score:e.score,showPlayActions:!1,solved:!0,showLogInLink:null!=u?u.services.isGuest():void 0}}},outOfHints:{onEnter:function(){return ce("outOfHints")},onEvent:function(e,t,n,o){return"confirm"===n?["play",t,o]:["outOfHints",t,o]},getRenderData:function(e){var t;return t=e.comboString.length?e.comboString:null,{secretMessage:g(e.secretMessage,e.decodeKey),feedback:t||e.lastCombo||"Type letter combos to reveal the hidden message.",match:e.lastCombo?!!e.comboString.length>0:null,score:e.score,showPlayActions:!0,buyHints:!0}}},noMoreQuotes:{onEnter:function(){return ce("noMoreQuotes")},onEvent:function(e,t,n,o){return"confirm"===n?["loading",t,o]:["noMoreQuotes",t,o]},getRenderData:function(){return{secretMessage:"",feedback:"",showPlayActions:!1,noMoreQuotes:!0}}},bundleCompleted:{onEnter:function(){return ce("bundleCompleted")},onEvent:function(e,t,n,o){return"confirm"===n?["loading",t,o]:["bundleCompleted",t,o]},getRenderData:function(){return{secretMessage:"",feedback:"",showPlayActions:!1,bundleCompleted:!0}}}},v=function(e,t,n){var o,r,s,u;return u=e.state.onEvent(n,e.scope,t,e.userData),r=u[0],o=u[1],s=u[2],ge[r]!==e.state&&ge[r].onEnter(o,s),ne(ge[r].getRenderData(o),o,s),{state:ge[r],scope:o,userData:s}},be=function(e,t){var n,o,r,s,u;return s=U(this.store,this.currentState,e,t,this.userData),this.store=s[0],this.currentState=s[1],this.userData=s[2],u=v({state:this.currentState,scope:this.store,userData:this.userData},e,t),o=u.state,n=u.scope,r=u.userData,this.currentState=o,this.store=n,this.userData=r},be.userData={},be.store={},be.currentState=ge.start,be=be.bind(be),U=function(e,t,n,o,r){return"toggleMuteMusic"===n&&(e.musicIsPaused?J():W(),e.musicIsPaused=!e.musicIsPaused),"toggleMuteSFX"===n&&(e.SFXIsPaused?z():X(),e.SFXIsPaused=!e.SFXIsPaused),"getHelp"===n&&(e.showHelp=!e.showHelp),"cancel"===n&&e.showHelp&&(e.showHelp=!e.showHelp),"loggedIn"===n&&(t=ge.loadingUser,E(r)),[e,t,r]},m=function(e){var t,n;return n=s(e.lastSolvedBundleIndex,e.lastSolvedQuoteIndex),t=l[n.bundleIndex][n.quoteIndex].quote,setTimeout(function(){return be("quoteLoaded",{message:t,bundleIndex:n.bundleIndex,quoteIndex:n.quoteIndex})},0)},A=function(e){var t;return(8===(t=e.keyCode)||32===t||9===t||37===t||38===t||39===t||40===t)&&e.preventDefault(),be("keyPress",e)},F=function(e){return e.preventDefault(),be("giveUp",null)},$=function(e){return e.preventDefault(),be("hint",null)},j=function(e){return e.preventDefault(),be("toggleMuteMusic",null)},Y=function(e){return e.preventDefault(),be("toggleMuteSFX",null)},G=function(e){return e.preventDefault(),be("getHelp",null)},_=function(e){return e.preventDefault(),be("cancel",null)},K=function(e){return e.preventDefault(),be("confirm",null)},V=function(){return be("loggedIn",null)},f=function(e){var t,n;return n=R.invertObj(h),t=function(e,t){var o,r,s;return L(t["char"])?(o="",/[\n\r]/.test(t["char"])&&(o="<br>"),e+("</span>"+o+"<span class='word'>")):(s=t["char"],t.status===h.HIDDEN&&(s=" "),r=n[t.status].toLowerCase(),e+("<span class='letter "+r+"'>"+s+"</span>"))},R.reduce(t,"<span class='word'>",e)+"</span>"},ne=function(e,t,n){var o,s,a,i,d,c,p,g,h,b,m,v,y,w,x,R,k,S,D,E,q,P,M,Z,H,C,L;return c=Zepto("#secret-message"),o=Zepto("#feedback"),s=Zepto("#feedback #message"),d=Zepto("#score"),a=Zepto("#mute-music-button"),i=Zepto("#mute-sfx-button"),H=e.secretMessage,h=e.feedback,Z=e.score,C=e.showPlayActions,w=e.match,g=e.buyHints,b=e.giveUp,m=e.giveUpCost,c.html(f(H)),s.html(h),d.text(Z),o.removeClass("no-match"),o.removeClass("match"),w===!0&&o.addClass("match"),w===!1&&o.addClass("no-match"),e.showLogInLink?Zepto("#feedback .login-link").show():Zepto("#feedback .login-link").hide(),e.solved?Zepto("#share").show():Zepto("#share").hide(),C?Zepto("#play-actions").show():Zepto("#play-actions").hide(),Zepto("#hint-button .hints-remaining").text(n.hintsRemaining),a.removeClass("muted"),i.removeClass("muted"),t.musicIsPaused&&a.addClass("muted"),t.SFXIsPaused&&i.addClass("muted"),Zepto("#dialog").hide(),g&&(Zepto("#dialog #cancel").hide(),Zepto("#dialog #confirm").show(),k=I(n.totalScore),P=I(n.totalScore)-n.totalScore,Zepto("#dialog").show(),Zepto("#dialog h3").text("You are out of hints!"),Zepto("#dialog #message-content").html("Next free hint awarded at "+k+" points ("+P+" points to go)"),Zepto("#dialog #confirm").text("OK")),b&&(Zepto("#dialog #cancel").show(),Zepto("#dialog #confirm").show(),Zepto("#dialog").show(),Zepto("#dialog h3").text("Are you sure you want to give up?"),Zepto("#dialog #message-content").html("You will lose "+m+" points for the remaining unsolved words."),Zepto("#dialog #confirm").text("Yes, give up"),Zepto("#dialog #cancel").text("No, I'll keep trying")),e.noMoreQuotes&&(Zepto("#dialog #cancel").hide(),Zepto("#dialog #confirm").show(),Zepto("#dialog").show(),Zepto("#dialog h3").text("You solved all of the quotes!"),Zepto("#dialog #message-content").html("<p>Thank you for playing.</p><p><a target='_blank' href='http://codeperfectionist.com/portfolio/games/hidden-message-game/'>Stay tuned for more quote bundles and extra features</a></p>"),Zepto("#dialog #confirm").text("Play again?")),p=r[t.currentBundleIndex||0],R=r[(t.currentBundleIndex||0)+1],e.bundleCompleted&&(Zepto("#dialog #cancel").hide(),Zepto("#dialog #confirm").show(),Zepto("#dialog").show(),Zepto("#dialog h3").text('Congratulations, you finished the "'+p+'" bundle!'),Zepto("#dialog #message-content").html("You've unlocked the \""+R+'" bundle.'),Zepto("#dialog #confirm").text("Play next bundle")),t.showHelp&&(Zepto("#dialog #cancel").show(),Zepto("#dialog #confirm").hide(),Zepto("#dialog").show(),Zepto("#dialog h3").text("Help"),Zepto("#dialog #message-content").html("<p>Stuck?  You must reveal the secret message one letter at a time, from the start of each word.  Solving each word will give you a clue to which letters other words start with.  Try going for shorter word first.  The words stay solved only when you complete them.  You can always use a hint or give up, but it will cost you.  Good luck!</p>\n<h3>Credits</h3>\n<ul>\n  <li>Game designed and built by <a target='_blank' href='http://codeperfectionist.com/about'>Jeff Schomay</a></li>\n  <li>Music by Jamison Rivera\n  <li>Owl character by <a target='_blank' href='http://sherony.com'>Sherony Lock</a></li>\n  <li>Sound effects by <a target='_blank' href='https://www.freesound.org/people/ddohler/sounds/9098/'>ddohler</a>,\n  <a target='_blank' href='https://www.freesound.org/people/Horn/sounds/9744/'>Horn</a>,\n  <a target='_blank' href='https://www.freesound.org/people/NHumphrey/sounds/204466/'>NHumphrey</a>, and\n  <a target='_blank' href='https://www.freesound.org/people/lonemonk/sounds/47048/'>lonemonk</a></li>\n  <li>Special thanks to: Mark, Marcus, Zia, David, Joey, Molly and Michele</li>\n</ul>"),Zepto("#dialog #cancel").text("Keep playing")),S=(t.currentQuoteIndex||0)+1,p=r[t.currentBundleIndex||0],L=l[t.currentBundleIndex||0].length,Zepto("#user-info").show(),Zepto("#progress").html('Bundle: "'+p+'"<br>#'+S+" out of "+L),Zepto("#total-score").text(n.totalScore),(null!=u?u.services.isGuest():void 0)?Zepto("#user-info .login-link").show():Zepto("#user-info .login-link").hide(),E=Zepto("#owl").width(),v=200,q=window.innerWidth-v-E,M=e.progress||0,D=q*M+v/2,y=15,x=function(e,t){return Zepto("#owl").css({"-webkit-transform":"translate3d("+e+"px, -"+t+"px, 0)","-ms-transform":"translate3d("+e+"px, -"+t+"px, 0)",transform:"translate3d("+e+"px, -"+t+"px, 0)"})},e.solved?x(window.innerWidth-(E+10),70):x(D,y),setTimeout(function(){return e.solved?void 0:x(D,0)},70)},O=function(e){return R.length(R.filter(R.compose(R.identity,R.prop("_loaded")),R.values(e)))},me=function(e,t){return O(t)===e?fe():void 0},N=function(e){var n,o,r,s;return s=R.length(R.keys(e)),n=[".ogg",".m4a",".wav"],o=function(e){return R.map(R.concat(e),n)},r=function(e,t){var n;return n=function(){return"string"==typeof t[1]?{urls:o(t[1]),onload:function(){return me(s,e)}}:R.merge(t[1][1],{urls:o(t[1][0]),onload:function(){return me(s,e)}})},e[t[0]]=new Howl(n()),e},R.reduce(r,t,R.toPairs(e))},T=function(e){var t,n;return n=function(e){var t;return t=new Image,t.src=e,t},(t=R.map(n))(e)},te=function(){var e;return e=T(["assets/owl-normal.png","assets/owl-happy.png","assets/owl-sad.png","assets/owl-blink.png"]),N({keyPressMiss:"assets/key-press-miss",keyPressHit:["assets/key-press-hit",{volume:n.keyPressHit}],giveUp:"assets/give-up",solved:"assets/solved",backgroundMusic:["assets/background-music-long",{volume:n.backgroundMusic,onend:function(){return this.play()}}]})},ce=function(e){return Zepto("body").removeClass(),Zepto("body").addClass(e)},pe=function(){var e,t;return t=function(){return Zepto("#owl").toggleClass("blink")},e=function(){return t(),setTimeout(t,200),setTimeout(e,8e3+5e3*(Math.random()-.5))},setTimeout(e,5e3),setTimeout(e,7e3)},fe=function(){return Zepto(function(e){return b(),e(".popup").click(function(){var t,n,o,r,s,u;return u=575,t=400,n=(e(window).width()-u)/2,r=(e(window).height()-t)/2,s=this.href,o="status=1,width="+u+",height="+t+",top="+r+",left="+n,window.open(s,"Share",o),!1}),e(document).on("keydown",A),e("#give-up-button").on("click",F),e("#hint-button").on("click",$),e("#mute-music-button").on("click",j),e("#mute-sfx-button").on("click",Y),e("#help-button").on("click",G),e("#cancel").on("click",_),e("#confirm").on("click",K),e(".login-link").on("click",function(){return null!=u?u.services.showSignInBox():void 0}),null!=u&&u.services.addEventListener("login",V),pe(),be("gameReady")})},E=function(t){var n,o,r;return n={hintsRemaining:e.startingHints,totalScore:0,lastSolvedBundleIndex:void 0,lastSolvedQuoteIndex:void 0,progressPerBundle:void 0},o=R.values(t).length,r=o?t:n,i.load().then(function(e){var t,n;return e?(t=e.toJSON(),n=t.plays||0,t.plays=n+1,se(t),be("userLoaded",R.merge(r,t))):(se(r),be("userLoaded",r))},function(e){return console.error("Error loading user data:",e),be("userLoaded",r)})},se=function(e){return i.save(e)},te()}}),require.register("src/persist",function(e,t,n){var o,r,s,u;s=parent.kongregate,Parse.initialize("iul0cVOM5mJWAj1HHBa158cpMoyEQ2wWxSK3Go9O","pbFnYPVaSunEmgjI8qTKqkW8nHKoB6Xor1DtOWpD"),r=function(){var e,t;return e=!1,s?s.services.isGuest()?void 0:t=s.services.getUserId():e?"mockUser":void 0},o=Parse.Object.extend("KongregatePlayer"),u=void 0,n.exports={save:function(e){var t;return(t=r())?u?u.save(e).then(function(){return!0},function(e){return console.error(e)}):(u=new o,u.set("userId",""+t),u.save(e).then(function(){return!0},function(e){return console.error(e)})):void 0},load:function(){var e,t,n,s;return s=r(),s?(n=new Parse.Query(o),n.equalTo("userId",""+s),t=n.first(),t.then(function(e){return e?u=e:void 0},function(e){return console.error(e)}),t):(e=new Parse.Promise,setTimeout(function(){return e.resolve()},0),e)}}}),require.register("src/stats",function(e,t,n){var o,r;r=parent.kongregate||{stats:{submit:console.log.bind(console)}},o=t("./bundles").bundleCompleted,n.exports=function(e){var t,n,s;return r.stats.submit("HighScore",e.totalScore),s=function(e,t){return e+t+1},n=R.reduce(s,0,e.progressPerBundle),r.stats.submit("NumCompletedQuotes",n),t=o(e.lastSolvedBundleIndex,e.lastSolvedQuoteIndex),t&&2===e.progressPerBundle.length&&r.stats.submit("Quotes2BundleCompleted",1),t&&1===e.progressPerBundle.length?r.stats.submit("StarterBundleComplete",1):void 0}});